<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link rel="icon" href="static/govbr.png" type="image/png" />


  <title>RG Digital</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: rgb(255, 255, 255);
      font-family: sans-serif;
      overscroll-behavior: contain;
      -webkit-user-select: none;
      user-select: none;
    }

    .container {
      position: relative;
      display: flex;
      flex-direction: column;
      width: 100%;
      height: 100%;
      background: #fff;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 16px;
      background: #ffffff;
      border-bottom: 1.3px solid rgba(0, 0, 0, 0.1);

      flex-shrink: 0;
      margin-bottom: 40px;

      
      
    }

    .top-left {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: #333;
    }


.Atualizadacentralizada {
  display: flex;
  justify-content: center;     /* centraliza horizontalmente */
  align-items: center;         /* alinha verticalmente */
  gap: 8px;                    /* espa√ßo entre o ponto e o texto */
  font-size: 14px;
  color: #333;
  margin-top: -5px;            /* dist√¢ncia do topo */
  text-align: center;
}
.dot {
  width: 10px;
  height: 10px;
  background: #27ae60;
  border-radius: 50%;
  flex-shrink: 0;
}


    .close {
      color: #1351B4;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
    }

    .menu {
      width: 20px;
      height: 14px;
      border-top: 2px solid #333;
      border-bottom: 2px solid #333;
      position: relative;
    }

    .menu::after {
      content: "";
      position: absolute;
      top: 5px;
      left: 0;
      width: 20px;
      border-top: 2px solid #333;
    }

    /* √Årea central */
    .rg-area {
      flex-grow: 1;
      min-height: 720px;
      background: rgb(255, 255, 255);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
      border-bottom: none;

    }

    .rg-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: -100px;
      border-bottom: none;

      
    }

    .rg-img {
      width: auto;
      height: auto;
      max-width: 150%;
      max-height: 150%;
      object-fit: contain;
      display: block;
      transform: rotate(90deg);
      will-change: transform;
      backface-visibility: hidden;
      transition: transform 0.3s ease;
      padding-bottom: 15;
      border-bottom: none;

      
    }

.footer {
  position: fixed;
  bottom: 30px; /* sobe o menu 80px acima do fundo */
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 12px;
  background: #fff;
  border-top: 1px solid #ddd;
  z-index: 10;
  flex-shrink: 0;
}


    .footer img {
      width: 28px;
      height: 28px;
      opacity: 0.6;
      transition: opacity 0.3s;
    }

    .footer img.active {
      opacity: 1;
    }
    #loader {
  position: fixed;
  top: 16px;
  left: 50%;
  transform: translateX(-50%);
  background: #e6f6ff;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  color: #333;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  z-index: 999;
}
.menu-pontos {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 4px;
  width: 24px;
  height: 24px;
  cursor: pointer;
  user-select: none;
}

.ponto {
  width: 4px;
  height: 4px;
  background-color: #333;
  border-radius: 50%;
}



  </style>
</head>
<body>
  <div id="loader" style="display:none;">
  üîÑ Atualizando...
</div>

  <div class="container">
    <div class="top-bar">
     <div class="close">Fechar</div>


      <div class="menu-pontos" title="Mais op√ß√µes">
  <span class="ponto"></span>
  <span class="ponto"></span>
  <span class="ponto"></span>
</div>


    </div>
<div class="Atualizadacentralizada">
  <div class="dot"></div>
  <span id="dataAtualizacao">Atualizada em, DD/MM/AAAA √†s HH:MM</span>
</div>

    <div class="rg-area" id="rgArea">
      <div class="rg-wrapper">
        <img
          class="rg-img"
          id="rgImg"
          src="https://rg-app-gov-br.vercel.app/static/base_RGAPP1.png"
          alt="RG Digital"
        />
      </div>
    </div>

<div class="footer">
  <img id="btnRG1" src="static/usuario.png" class="active" alt="RG 1" />
  <img id="btnRG2" src="static/id-card_88591.png" class="active" alt="RG 2" />
  <img id="btnRG3" src="static/qr-code.png" class="active" alt="RG 3" />
</div>

  </div>

  <script>
    const imagens = [
      "https://rg-app-gov-br.vercel.app/static/base_RGAPP1.png",
      "https://rg-app-gov-br.vercel.app/static/base_RGAPP2.png",
      "https://rg-app-gov-br.vercel.app/static/base_RGAPP3.png"
    ];
    let indexAtual = 0;
    let rotacaoAtual = 90;
    const rgImg = document.getElementById('rgImg');
    const rgArea = document.getElementById('rgArea');

    function aplicarRotacao() {
      rgImg.style.transform = `rotate(${rotacaoAtual}deg)`;
    }

    function trocarImagem(novoIndex) {
      indexAtual = novoIndex;
      rgImg.src = imagens[indexAtual];
      rotacaoAtual = 90;
      aplicarRotacao();
    }

    rgImg.onload = aplicarRotacao;

    let startX = 0;
    rgArea.addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
    }, { passive: true });

    rgArea.addEventListener('touchend', e => {
      const endX = e.changedTouches[0].clientX;
      const deltaX = endX - startX;

      if (Math.abs(deltaX) > 50) {
        if (deltaX < 0) indexAtual = (indexAtual + 1) % imagens.length;
        else indexAtual = (indexAtual - 1 + imagens.length) % imagens.length;
        trocarImagem(indexAtual);
      }
    }, { passive: true });

    // üß© Debug: mostrar altura real no WebView
    window.addEventListener('load', () => {
      setTimeout(() => {
        console.log("Altura rg-area:", rgArea.clientHeight + "px");
      }, 800);
    });

      function atualizarDataHora() {
    const agora = new Date();

    const dia = String(agora.getDate()).padStart(2, '0');
    const mes = String(agora.getMonth() + 1).padStart(2, '0');
    const ano = agora.getFullYear();

    const horas = String(agora.getHours()).padStart(2, '0');
    const minutos = String(agora.getMinutes()).padStart(2, '0');

    const texto = `Atualizada em: ${dia}/${mes}/${ano} √†s ${horas}:${minutos}`;
    document.getElementById('dataAtualizacao').textContent = texto;
  }

  // Atualiza ao carregar
  window.addEventListener('load', atualizarDataHora);

  let startY = 0;
let isRefreshing = false;

document.addEventListener('touchstart', e => {
  if (window.scrollY === 0) {
    startY = e.touches[0].clientY;
  }
}, { passive: true });

document.addEventListener('touchend', e => {
  const endY = e.changedTouches[0].clientY;
  const deltaY = endY - startY;

  if (deltaY > 80 && !isRefreshing && window.scrollY === 0) {
    isRefreshing = true;
    const loader = document.getElementById('loader');
    loader.style.display = 'block';

    setTimeout(() => {
      location.reload(); // recarrega a p√°gina
    }, 1000); // tempo de exibi√ß√£o do loader
  }
}, { passive: true });

document.addEventListener('gesturestart', function (e) {
  e.preventDefault();
});
document.getElementById('btnRG1').addEventListener('click', () => {
  trocarImagem(0); // RG 1
});

document.getElementById('btnRG2').addEventListener('click', () => {
  trocarImagem(1); // RG 2
});

document.getElementById('btnRG3').addEventListener('click', () => {
  trocarImagem(2); // RG 3
});


  </script>
</body>
</html>












